
const searchInput = document.querySelector('#search-input');
const resultsContainer = document.querySelector('#results-container');

searchInput.addEventListener('input', async (event) => {
  // adding button to search with
  const searchButton = document.createElement('button');
  const searchTerm = event.target.value;
  const response = await fetch(`https://www.dnd5eapi.co/api/spells?name=${searchTerm}`);
  const data = await response.json();
  const spells = data.results;

  resultsContainer.innerHTML = '';

  spells.forEach(async (spell) => {
    const spellResponse = await fetch(`https://www.dnd5eapi.co${spell.url}`);
    const spellData = await spellResponse.json();

    const spellName = document.createElement('h2');
    spellName.textContent = spellData.name;

    const spellDescription = document.createElement('p');
    spellDescription.textContent = spellData.desc;

    const spellElement = document.createElement('div');
    spellElement.appendChild(spellName);
    spellElement.appendChild(spellDescription);

    resultsContainer.appendChild(spellElement);
  });
});
